# Test-Driven Development (TDD)

코드 동작을 변경하는 모든 작업에서 테스트가 구현을 주도한다.
이 규칙은 karpathy-guidelines "Goal-Driven Execution"의 구체적 실행 방법이다.

<conditions>
코드 동작을 변경하는 작업에 적용한다:
- 새로운 기능 구현
- 버그 수정 (재현 테스트 → 수정 → 통과)
- 기존 동작을 바꾸는 리팩토링

단순 작업(타이포 수정, 문서 작업, 설정 변경, 스타일 조정)에는 적용하지 않는다.
</conditions>

<instructions>

<iron_law>
테스트 없이 작성된 구현 코드는 즉시 삭제한다.
"참고용으로 보관", "나중에 테스트 추가" — 모두 불허. 삭제 후 테스트부터 다시 시작한다.
</iron_law>

코드를 작성하기 전에 반드시 다음 순서를 따른다:

1. **Red** — 요구사항을 검증하는 테스트를 작성하고, 실행하여 실패를 확인한다
   - 반드시 테스트를 실행한다. 기능 미구현으로 실패해야 하며, 오타나 에러가 아닌지 확인한다
2. **Green** — 테스트를 통과하는 최소한의 코드를 구현한다
   - 반드시 테스트를 실행한다. 새 테스트와 기존 테스트 모두 통과해야 한다
3. **Refactor** — 테스트가 통과하는 상태에서 코드를 정리한다

각 단계의 결과(테스트 실패/통과)를 사용자에게 보고한다.

<rationalization_triggers>
다음 생각이 떠오르면 TDD를 우회하려는 합리화다. 즉시 멈추고 테스트부터 작성한다:
- "이번만 예외로" / "나중에 테스트 추가할게"
- "너무 단순해서 테스트 불필요" / "수동으로 이미 확인했으니"
- "먼저 탐색이 필요해" → 탐색 후 모든 코드를 삭제하고 TDD로 재시작한다
</rationalization_triggers>

</instructions>

<examples>
❌ 구현 코드를 먼저 작성하고 나중에 테스트 추가
❌ 테스트 없이 "동작 확인했습니다"로 검증 대체
❌ 실패하는 테스트를 확인하지 않고 바로 구현
✅ 테스트 작성 → 실패 확인 → 구현 → 통과 확인 → 정리
</examples>

상세 워크플로우, 코드 예시, 체크리스트가 필요하면 `/test-driven-development` 스킬을 사용한다.
